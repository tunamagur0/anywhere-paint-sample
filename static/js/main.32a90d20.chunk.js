(this["webpackJsonpanywhere-paint-sample"]=this["webpackJsonpanywhere-paint-sample"]||[]).push([[0],{63:function(e,t,a){e.exports=a(88)},68:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),c=a.n(r),o=(a(68),a(11)),s=a(12),l=a(13),u=a(14),h=a(117),d=Object(n.createContext)({awPaint:null,container:null}),m=a(130),p=a(4),v=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).div=void 0,n.div=i.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){return!e.isInitialized&&this.props.isInitialized&&this.context.awPaint.createColorCircle(this.div.current),!0}},{key:"render",value:function(){return i.a.createElement(h.a,{item:!0,className:this.props.classes.container,xs:this.props.ratio,ref:this.div})}}]),a}(i.a.Component);v.contextType=d;var f=Object(p.a)((function(e){return Object(m.a)({container:{"& div":{background:"white",borderRadius:"10px"}}})}))(v),b=a(131),g=a(128),w=a(129),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).pencils=void 0,n.state={Pencil:"Pencil"},n.pencils=["Pencil","Eraser","Fill"],n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({Pencil:t}),this.context.awPaint.changeMode(t)}},{key:"render",value:function(){var e=this,t=this.pencils.map((function(t){return i.a.createElement(h.a,{key:t},i.a.createElement(b.a,{value:t,control:i.a.createElement(g.a,null),label:t,checked:t===e.state.Pencil,key:t,labelPlacement:"bottom"}))}));return i.a.createElement(h.a,{container:!0,item:!0,xs:this.props.ratio,className:this.props.classes.container,alignItems:"center",justify:"space-around"},i.a.createElement(w.a,{row:!0,onChange:function(t){return e.handleChange(t)}},t))}}]),a}(i.a.Component);y.contextType=d;var j=Object(p.a)((function(e){return Object(m.a)({container:{"& div":{background:"white",borderRadius:"10px"}}})}))(y),E=a(121),O=a(122),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sizes=[1,2,3,4,5,7,9,11,13,15,17,20],n.state={size:1},n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.value,10);this.setState({size:t}),this.context.awPaint.setLineWidth(t)}},{key:"render",value:function(){var e=this,t=this.sizes.map((function(e){return i.a.createElement(E.a,{key:e},i.a.createElement(b.a,{value:e,label:"".concat(e,"px"),labelPlacement:"bottom",control:i.a.createElement(g.a,{color:"primary"}),key:e}))}));return i.a.createElement(h.a,{item:!0,xs:this.props.ratio},i.a.createElement(O.a,{style:{height:"80%"},className:this.props.classes.container},i.a.createElement(w.a,{row:!0,style:{width:"100%"},value:this.state.size,onChange:function(t){return e.handleChange(t)}},t)))}}]),a}(i.a.Component);k.contextType=d;var x=Object(p.a)((function(e){return Object(m.a)({container:{background:"white",borderRadius:"10px"}})}))(k),C=a(45),P=a(54),N=a(126),I=a(123),z=a(124),D=a(125),U=a(127),L=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.props.onChange(t)}},{key:"render",value:function(){var e=this;return i.a.createElement(I.a,{onClick:function(){return e.props.onClick()},className:this.props.classes.root,style:{border:"solid 1px ".concat(this.props.isSelected?"red":"black")}},i.a.createElement(z.a,{className:this.props.classes.media,image:this.props.image}),i.a.createElement("div",{className:this.props.classes.name},i.a.createElement(D.a,{className:this.props.classes.content},i.a.createElement(U.a,{variant:"outlined",value:this.props.name,onChange:function(t){return e.handleChange(t)}}))))}}]),a}(i.a.Component),S=Object(p.a)((function(e){return Object(m.a)({root:{display:"flex"},media:{width:"75%"},content:{display:"flex"}})}))(L),T=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={images:null,names:null,current:0,order:[]},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;return this.props.isInitialized&&!e.isInitialized&&(this.context.container.current.addEventListener("pointerup",(function(){return t.getNewData()})),this.getNewData()),this.props.isUpdated&&this.getNewData(),!0}},{key:"getNewData",value:function(){var e=this.context.awPaint.getLayerImages(),t=this.context.awPaint.getLayerNames(),a=this.context.awPaint.getSortOrder();this.setState({images:e,names:t,order:a,current:this.context.awPaint.selectingLayer})}},{key:"render",value:function(){var e=this,t=[];if(this.state.order){var a,n=Object(P.a)(this.state.order);try{var r=function(){var n,r,c=a.value,o=null===(n=e.state.images)||void 0===n?void 0:n.get(c),s=null===(r=e.state.names)||void 0===r?void 0:r.get(c);o&&s&&t.push(i.a.createElement(E.a,{key:c},i.a.createElement(S,{layerNum:c,name:s,image:o,onClick:function(){e.context.awPaint.selectLayer(c),e.getNewData()},onChange:function(t){e.context.awPaint.renameLayer(c,t),e.getNewData()},isSelected:c===e.context.awPaint.selectingLayer,key:c})))};for(n.s();!(a=n.n()).done;)r()}catch(c){n.e(c)}finally{n.f()}}return i.a.createElement(h.a,{container:!0,item:!0,xs:this.props.ratio},i.a.createElement(h.a,{container:!0,item:!0},i.a.createElement(h.a,{container:!0,item:!0,justify:"space-around",xs:12,className:this.props.classes.buttons},i.a.createElement(h.a,{item:!0},i.a.createElement(N.a,{variant:"contained",onClick:function(){var t=e.context.awPaint.addLayer();e.context.awPaint.selectLayer(t),e.getNewData()}},"+")),i.a.createElement(h.a,null,i.a.createElement(N.a,{variant:"contained",onClick:function(){e.context.awPaint.removeLayer(e.context.awPaint.selectingLayer),e.getNewData()}},"-")),i.a.createElement(h.a,null,i.a.createElement(N.a,{variant:"contained",onClick:function(){if(e.state.order[0]!==e.state.current){var t=Object(C.a)(e.state.order),a=t.indexOf(e.state.current),n=[t[a],t[a-1]];t[a-1]=n[0],t[a]=n[1],e.context.awPaint.setSortOrder(t),e.getNewData()}}},"\u2191")),i.a.createElement(h.a,null,i.a.createElement(N.a,{variant:"contained",onClick:function(){if(e.state.order[e.state.order.length-1]!==e.state.current){var t=Object(C.a)(e.state.order),a=t.indexOf(e.state.current),n=[t[a],t[a+1]];t[a+1]=n[0],t[a]=n[1],e.context.awPaint.setSortOrder(t),e.getNewData()}}},"\u2193"))),i.a.createElement(h.a,{item:!0,xs:12},i.a.createElement(O.a,{cols:1,className:this.props.classes.layers},t))))}}]),a}(i.a.Component);T.contextType=d;var R=Object(p.a)((function(e){return Object(m.a)({buttons:{height:"10vh"},layers:{height:"80vh"}})}))(T),M=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e?this.context.awPaint.undo():this.context.awPaint.redo(),this.props.onUpdate()}},{key:"render",value:function(){var e=this;return i.a.createElement(h.a,{container:!0,item:!0,className:this.props.classes.container,xs:this.props.ratio,alignItems:"center",justify:"space-around"},i.a.createElement(h.a,null,i.a.createElement(N.a,{onClick:function(){return e.handleClick(!0)}},"Undo")),i.a.createElement(h.a,null,i.a.createElement(N.a,{onClick:function(){return e.handleClick(!1)}},"Redo")),i.a.createElement(h.a,null,i.a.createElement(N.a,{onClick:function(){e.context.awPaint.clearLayer(e.context.awPaint.selectingLayer),e.props.onUpdate()}},"Clear")))}}]),a}(i.a.Component);M.contextType=d;var W=Object(p.a)((function(e){return Object(m.a)({container:{"& button":{background:"white"}}})}))(M),B=a(55),J=a.n(B),F=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).container=void 0,n.container=i.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.intialize(new J.a(this.container.current,this.props.width,this.props.height),this.container)}},{key:"render",value:function(){return i.a.createElement(h.a,{container:!0,item:!0,alignItems:"center",justify:"center",className:this.props.classes.canvasContainer},i.a.createElement(h.a,{item:!0,style:{width:this.props.width,height:this.props.height,border:"solid 1px black"},ref:this.container}))}}]),a}(i.a.Component);F.contextType=d;var $=Object(p.a)((function(e){return Object(m.a)({canvasContainer:{"& div":{background:"white"}}})}))(F),q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={downloadName:""},n}return Object(s.a)(a,[{key:"download",value:function(){var e=document.createElement("a");e.download=this.state.downloadName,e.href=this.context.awPaint.getIntegratedImage(),e.click()}},{key:"render",value:function(){var e=this;return i.a.createElement(h.a,{container:!0,item:!0,className:this.props.classes.container,xs:this.props.ratio,alignItems:"center",justify:"space-evenly"},i.a.createElement(h.a,null,i.a.createElement(U.a,{variant:"outlined",value:this.state.downloadName,onChange:function(t){return e.setState({downloadName:t.target.value})}})),i.a.createElement(h.a,null,i.a.createElement(N.a,{onClick:function(){return e.download()}},"Download")))}}]),a}(i.a.Component);q.contextType=d;var A=Object(p.a)((function(e){return Object(m.a)({container:{"& button":{background:"white"}}})}))(q),G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={awPaint:null,container:null,width:1200,height:800,isInitialized:!1,isUpdated:!1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){!t.isUpdated&&this.state.isUpdated&&this.setState({isUpdated:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:this.props.classes.root},i.a.createElement(d.Provider,{value:{awPaint:this.state.awPaint,container:this.state.container}},i.a.createElement(h.a,{container:!0,className:this.props.classes.container},i.a.createElement(h.a,{container:!0,item:!0,xs:2,alignItems:"stretch",justify:"space-around"},i.a.createElement(f,{ratio:12,isInitialized:this.state.isInitialized}),i.a.createElement(x,{ratio:12})),i.a.createElement(h.a,{container:!0,item:!0,xs:8,direction:"column",alignItems:"stretch",justify:"space-around"},i.a.createElement(h.a,{container:!0,item:!0,justify:"center"},i.a.createElement(W,{ratio:4,onUpdate:function(){return e.setState({isUpdated:!0})}}),i.a.createElement(A,{ratio:4}),i.a.createElement(j,{ratio:4})),i.a.createElement($,{width:this.state.width,height:this.state.height,intialize:function(t,a){e.setState({awPaint:t,isInitialized:!0,container:a})}}),i.a.createElement(h.a,{item:!0})),i.a.createElement(R,{ratio:2,isInitialized:this.state.isInitialized,isUpdated:this.state.isUpdated}))))}}]),a}(i.a.Component),H=Object(p.a)((function(e){return Object(m.a)({root:{width:"100vw",height:"100vh",background:"#818ea3",margin:0},container:{width:"100vw",height:"100vh",padding:"2.5vh 2.5vw 2.5vh 2.5vw"}})}))(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.32a90d20.chunk.js.map